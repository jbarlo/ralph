#!/usr/bin/env bash
set -e

RALPH_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
MAX_ITER="${1:-20}"

docker run -it \
  -v "$(pwd)":/workspace \
  -v ~/.claude:/root/.claude:ro \
  -v "$RALPH_DIR/prompt.md":/ralph/prompt.md:ro \
  ralph /ralph/ralph-loop.sh "$MAX_ITER"
